_SOURCES_:
 - DockerMake.yml

moldesign_base:
 requires:
  - mdt_python_base
 build_directory: ~/mycode/Buckyball_repo
 build: |
  ADD requirements.txt /opt/mdtreqs.txt
  RUN pip install -r /opt/mdtreqs.txt
  ADD moldesign /opt/moldesign

pyccc:
 requires:
  - mdt_python_base
 build_directory: ~/mycode/bioplatform_repo
 build: |
  ADD requirements.txt /opt/pycccreqs.txt
  RUN pip install -r /opt/pycccreqs.txt
  ADD pyccc /opt/pyccc


nbmolviz:
 requires:
  - mdt_python_base
  - notebook
 build_directory: ~/mycode/Py3DMol_Package
 build: |
  ADD requirements.txt /opt/nbmvreqs.txt
  RUN pip install -r /opt/nbmvreqs.txt
  ADD nbmolviz /opt/nbmolviz
  RUN python -c "from nbmolviz import install; install.widgets()"

mdt_nodep_notebook:
  requires:
   - moldesign_base
   - pyccc
   - nbmolviz

mdt_nodep:
  requires:
   - mdt_nodep_notebook
  build: |
   ENTRYPOINT []
   CMD ''